{"version":3,"sources":["pages/ImageDetail.js","pages/ImageForm.js","pages/ImageGallery.js","components/Navbar.js","App.js","reportWebVitals.js","index.js"],"names":["ImageDetail","params","useParams","history","useHistory","useState","title","url","_id","image","setImage","isLoading","setIsLoading","handleDelete","a","axios","delete","id","push","useEffect","get","res","data","className","src","alt","onClick","ImageForm","file","setFile","setTitle","uploadImage","setUploadImage","loading","setLoading","handleSubmit","e","preventDefault","formData","FormData","append","post","headers","onUploadProgress","progressEvent","upload","Math","round","loaded","total","role","style","width","aria-valuenow","aria-valuemin","aria-valuemax","onSubmit","type","placeholder","onChange","target","value","event","files","ImageGallery","images","setImages","length","map","index","Navbar","to","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","aria-current","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f03ae7a7.chunk.js","sourcesContent":["import axios from \"axios\"\nimport React, { useEffect, useState } from \"react\"\nimport { useParams, useHistory } from \"react-router\"\nexport const ImageDetail = () => {\n  const params = useParams()\n  const history = useHistory()\n  const [image, setImage] = useState({\n    title: \"\",\n    url: \"\",\n    _id: \"\"\n  })\n\n  const [isLoading, setIsLoading] = useState(false)\n\n  const handleDelete = async () => {\n    await axios.delete(`/api/images/${params.id}`)\n    history.push(\"/\")\n  }\n\n  useEffect(() => {\n    ;(async () => {\n      const res = await axios.get(`/api/images/${params.id}`)\n      setImage(res.data)\n      setIsLoading(true)\n    })()\n  }, [params.id])\n\n  return (\n    <div className='row'>\n      <div className='col-md-4 offset-md-4'>\n        <div className='card bg-dark'>\n          {isLoading ? (\n            <img src={image.url} alt={image.title} className='img-fluid' />\n          ) : (\n            <p className='text-center'>Loading...</p>\n          )}\n          <div className='card-body'>\n            <h3>{image.title}</h3>\n            <button className='btn btn-outline-danger' onClick={handleDelete}>\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const ImageForm = () => {\n  const [file, setFile] = useState();\n  const [title, setTitle] = useState(\"\");\n  const [uploadImage, setUploadImage] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const handleChange = (event) => {\n    setFile(event.target.files[0]);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    const formData = new FormData();\n    formData.append(\"image\", file);\n    formData.append(\"title\", title);\n    await axios.post(\"api/images/upload\", formData, {\n      headers: { \"Content-Type\": \"multipart/form-data\" },\n      onUploadProgress(progressEvent) {\n        const upload = `${Math.round(\n          (progressEvent.loaded / progressEvent.total) * 100\n        )}`;\n        setUploadImage(upload);\n      },\n    });\n    history.push(\"/\");\n  };\n\n  return (\n    <div className=\"col-md-4 offset-md-4\">\n      <div className=\"card bg-dark text-light rounded-0 p-4\">\n        {loading && (\n          <div className=\"progress rounded-0\">\n            <div\n              className=\"progress-bar progress-bar-striped bg-success\"\n              role=\"progressbar\"\n              style={{ width: `${uploadImage}%` }}\n              aria-valuenow=\"25\"\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n            ></div>\n          </div>\n        )}\n\n        <div className=\"card-body\">\n          <h3 className=\"card-title\">Upload Image</h3>\n          <form onSubmit={handleSubmit}>\n            <input\n              type=\"text\"\n              className=\"form-control bg-dark text-light my-3 rounded-0\"\n              placeholder=\"Write a title for your photo\"\n              onChange={(e) => setTitle(e.target.value)}\n            />\n            <input\n              type=\"file\"\n              className=\"form-control bg-dark text-light rounded-0\"\n              onChange={handleChange}\n            />\n            <div className=\"my-3\">\n              <button className=\"btn btn-success rounded-0 w-100\">\n                Upload\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import axios from \"axios\"\nimport React, { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nexport const ImageGallery = () => {\n  const [images, setImages] = useState([])\n  const history = useHistory()\n\n  useEffect(() => {\n    ;(async () => {\n      const res = await axios.get(\"/api/images\")\n      setImages(res.data)\n    })()\n  }, [])\n\n  return images.length > 0 ? (\n    <div className='container-image'>\n      {images.map((image, index) => (\n        <div\n          className='container-image-item'\n          key={index}\n          onClick={() => history.push(`/images/${image._id}`)}\n        >\n          {/* <h6 className='card-title'>{image.title}</h6> */}\n          <img\n            title={image.title}\n            src={image.url}\n            alt={image.title}\n            className='w-100'\n          />\n        </div>\n      ))}\n    </div>\n  ) : (\n    <h2>Loading...</h2>\n  )\n}\n","import React from \"react\";\nimport {Link} from 'react-router-dom';\n\nexport const Navbar = () => {\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <div className=\"container\">\n          <Link className=\"navbar-brand\" to=\"/\">\n            React Gallery\n          </Link>\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarNav\"\n            aria-controls=\"navbarNav\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n            <ul className=\"navbar-nav ms-auto\">\n              <li className=\"nav-item\">\n                <Link className=\"nav-link active\" aria-current=\"page\" to=\"/upload\">\n                  Upload an Image\n                </Link>\n              </li>\n              \n            </ul>\n          </div>\n        </div>\n      </nav>\n    </div>\n  );\n};\n","import { Route, Switch } from \"react-router-dom\";\n\nimport { ImageDetail } from \"./pages/ImageDetail\";\nimport { ImageForm } from \"./pages/ImageForm\";\nimport { ImageGallery } from \"./pages/ImageGallery\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport { Navbar } from \"./components/Navbar\";\nfunction App() {\n  return (\n    <div className=\"bg-dark text-light\">\n      <Navbar />\n      <div className=\"container p-4\">\n        <Switch>\n          <Route exact path=\"/\" component={ImageGallery} />\n          <Route path=\"/upload\" component={ImageForm} />\n          <Route path=\"/images/:id\" component={ImageDetail} />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}